# AWS 소개

## 클라우드 란?
IT 리소스를 구름에서 언제든지 쉽게 가져다가 쓸 수 있는 서비스 모음이다.

### 클라우드 구현 모델
* 퍼블릭 클라우드 - 일반적으로 클라우드 서비스 제공 업체가 운영 관리하며, 사용자는 해당 클라우드의 리소스를 사용하는 모델

* 프라이빗 클라우드 - 사용자가 자신의 온프레미스 내에 클라우드를 구축하여 직접 사용하는 모델

* 하이브리드 클라우드 - 퍼블릭 클라우드와 온프레미스 모두에 서비스하는 모델


## AWS 클라우드 소개
세계적으로 분포한 데이터 센터에서 다양한 서비스를 제공하고 있는 클라우드 플랫폼. AWS 글로벌 네트워크를 통하여 대용량 서비스 처리가 가능하며, 이중화된 네트워크 연결로 안정적인 서비스를 제공함.

### AWS 글로벌 인프라
현재 전 세계 24개의 리전과 77개의 가용영역 216개의 엣지 POP를 운영하고 있음. 각각의 리전은 100GbE 케이블로 연결되어 있으며, 암호화되어 전달되고 있음. 그리고 AWS 클라우드는 논리적인 규모에 따라 아래와 같이 나눌 수 있다.

데이터센터 < 가용 영역 < 리전(엣지) < 글로벌 인프라

### 데이터센터

AWS 데이터센터는 3가지 영역으로 분류하여 볼 수 있음.

* 물리영역 - 보안 요원, 울타리, 출입 통제 등 물리적인 보안과 전력, 냉난방 등 건물을 운영하는 설비와 시스템을 말함.

* IT 인프라 영역 - 서버, 네트워크, 스토리지, 로드 밸런서, 라우터 등 일반적인 IT 인프라 디바이스를 말함.

* 운영 영역 - 데이터센터를 운영 및 유지하는 인원.

### 가용 영역
한 개 이상의 데이터 센터들의 모음을 말함. 각 데이터 센터는 분산되어 있고, 초고속 광통신 전용망으로 연결되어 있음. 

### 리전
해당 지리적인 영역 내에서 격리되고 물리적을 분리된 여러 개의 가용 영역의 모음. 리전은 최소 2개의 가용 영역으로 구성되고 최대 6개의 가용 영역으로 구성된 리전도 있음. 예를 들어 가용 영역이 위치한 특정 지역에 물리적인 재난이나 재해로 서비스 이용이 불가능 할 수가 있음. 이를 극복하기 위해 aws 에 서비스를 구성할 때 가용 영역을 분산하여 구성하는 것을 권장. 

### 엣지
엣지는 외부 인터넷과 aws 글로벌 네트워크망과 연결하는 별도의 센터임. 엣지는 엣지 로케이션과 리전별 엣지 캐시로 구성되며, CloudFront와 같은 CDN 서비스의 데이터 캐싱 기능을 제공함. 

참고로 CF, DX, Route 53, AWS Shield, AWS Global Accelerator가 엣지에서 동작함.

백본 네트워크는 AWS 글로벌 네트워크망과 연결을 하며, 중국 리전을 제외한 모든 aws 리전과 연결됨. 서울 리전은 1개의 리전별 엣지 캐시와 4개의 엣지 로케이션으로 총 5개의 엣지가 구성되어 있음.

## AWS 제품

### 컴퓨팅 서비스
* EC2 (Elastic Compute Cloud) - aws 의 기본적인 컴퓨팅 서비스. 가상 머신으로 제공되고 인스턴스라고 부름. 사용 목적에 따른 다양한 인스턴스 타입과 스펙으로 구분되며, 사용한 만큼 비용을 지불.

* 오토 스케일링 (Auto Scaling) - ec2 인스턴스의 조건에 따라 자동으로 서버를 추가 혹은 제거를 해주는 서비스.

### 스토리지 서비스
* EBS (Elastic Block Store) - 가용 영역 내의 ec2 인스턴스에 연결되어서 사용될 수 있는 블록 스토리지(Block Storage)입니다. 필요 시 블록 스토리지를 생성하고 연결할 수 있으며, 용량 증가도 할 수 있음.

* 객체 기반(Object Storage)의 무제한 파일을 저장할 수 있는 스토리지. 사용자는 URL을 통해 손쉽게 파일을 사용이 가능하며, 여러 가용 영역에 걸쳐 99.999999999%의 뛰어난 내구성을 제공.

### 데이터베이스 서비스
* Amazon RDS (Relational Database Service)
Amazon RDS 는 관계형 데이터베이스를 이용할 수 있는 서비스. 하드웨어 프로비저닝, 데이터베이스 설정, 패치 및 백업과 같은 시간 소모적인 관리 작업을 aws 에서 처리를 해줌. 데이터베이스 인스턴스 유형을 제공하여, 6개의 데이터베이스 엔진을 선택하여 사용할 수 있음.

* Amazon DynamoDB
Amazon DynamoDB 는 어떠한 규모에서도 10밀리초 미만의 성능을 제공하는 키-값 및 NoSQL 데이터베이스 서비스임. 대규모의 데이터 저장 및 처리를 할 수 있으며, 서버리스 서비스로서 사용자는 서버 전반에 운영 관리를 할 필요가 없음. 

# AWS Network 소개
* AWS VPN - 가상 사설망
VPN (Virtual Private Network)은 공용 인터넷을 통해 가상의 사설 네트워크를 구성하여 프라이빗 통신을 제공함. 이를 통해 데이터 암호화, 전용 연결 등 여러 보안 요구사항들을 충족할 수 있음. AWS 에서 제공하는 관리형 VPN 서비스에는 Site-to-Site VPN과 클라이언트 VPN을 제공함. 



# 3장. VPC 고급

## 01. VPC 엔드포인트
 사용자가 생성한 VPC 에서 AWS 퍼블릭 서비스와 통신을 하거나 다른 VPC 로 통신이 필요할 경우 일반적으로 외부 인터넷 구간인 퍼블릭 네트워크를 통해 통신이 이루어짐. 하지만 금융 서비스처럼 강력한 보안 요건을 만족하기 위해서 격리된 프라이빗 서브넷에 자원이 생성되어야 하며, 이 경우 퍼블릭 네트워크를 통해 통신 불가. 이에 따라 격리된 프라이빗 서브넷에서도 AWS 퍼블릭 서비스와 프라이빗 네트워크 통신으로 안전한 통신을 제공하는 VPC 엔드포인트가 필요.

* VPC 엔드포인트 유형
    * 엔드포인트 : AWS 퍼블릭 서비스 대상에 대한 프라이빗 연결
        * 게이트웨이 엔드포인트 : AWS 퍼블릭 서비스 중 S3와 DynamoDB에 대한 연결
        * 인터페이스 엔드포인트 : 위 대상 외에 나머지 AWS 퍼블릭 서비스에 대한 연결
    * 엔드포인트 서비스 : 사용자가 지정한 서비스 대상에 대한 프라이빗 연결

* VPC 엔드포인트 특징
    * 보안 측면 강화
    * 비용 절감 효과
    * 서비스 제약
    * VPC 종속
    * 권한 제어

## 02. [실습 3-1] 게이트웨이/인터페이스 엔드포인트 비교

## 03. [실습 3-2] 엔드포인트 서비스로 프라이빗 링크 구성

## 04. 배치 그룹 (Placement Group)

### 배치 그룹 이란?
인스턴스의 배치를 조정하는 기능이다. 새로운 인스턴스를 하드웨어에 최대한 분산 배치하여 물리 호스트의 장애에 대해 상호 간 영향도를 최소화하고 장애를 줄이기 위해서이다. 

### 배치 그룹 종류
* 클러스터 배치 그룹 - 인스턴스 하드웨어 배치를 서로 근접하게 위치함. 일반적으로 고성능 컴퓨팅 환경에서는 수많은 애플리케이션이 서로 긴밀한 통신을 요구하여 낮은 지연 시간과 높은 네트워크 성능이 필요함. 하나의 가용 영역에 종속되는 제약이 있음. 그룹 내 인스턴스는 동일한 것으로 사용하길 권고.
* 파티션 배치 그룹 - 인스턴스를 논리적인 세그먼트로 분산함. 하나의 파티션에 존재하는 인스턴스는 다른 파티션의 인스턴스와 하드웨어를 공유하지 않아 상호 영향을 미치지 않음. 
* 분산형 배치 그룹 - 서로 다른 하드웨어로 분산하여 배치하여 인스턴스 간의 상호 장애 영향도를 최소화하는 방법. 보통 중요한 애플리케이션의 고가용성을 보장받기 위해 사용함. 

## 05. 메타데이터 (Metadata)
### 메타데이터 란?
객체에 대한 키와 값(Key & Value)에 대한 집합 데이터. 메타데이터에서 정의한 키에 대한 값을 가지고 있어 필요한 정보를 호출하여 정보를 파악할 수 있음. 이렇게 메타데이터를 이용해 인스턴스의 설정 자동화 작업에 활용하거나 다수의 인스턴스를 일괄 관리하는 형태로 활용할 수 있음. 


# 4장. 인터넷 연결

## 01. AWS의 인터넷 연결

### AWS의 인터넷 연결 소개
 인터넷 연결을 위해서는 4가지 조건이 필요하다
 * 인터넷 게이트웨이
 * 네트워크 라우팅 테이블 정보
 * 공인 IP - 집 주소와 같이 전 세계에서 유일한 주소의 개념. 
 * 보안 그룹과 네트워크 ACL - 보안 그룹과 네트워크 ACL 에 의해서 외부 네트워크와 통신이 허용되어야 함 
### 인터넷 게이트웨이

### NAT 디바이스 (NAT 인스턴스 & NAT 게이트웨이)

### Proxy 인스턴스
 Proxy 는 일종의 대리자로 클라이언트와 서버 중간에 통신을 대신 처리해주는 역할을 함. Proxy가 클라이언트의 통신을 대신 처리하기 때문에 서버의 입장에서는 마치 Proxy와 통신을 하는 것처럼 보임. 클라이언트는 기존 애플리케이션 통신을 Proxy로 보내기 위한 설정이 필요함.


## 02. [실습 4-1] NAT 인스턴스를 통한 인터넷 연결